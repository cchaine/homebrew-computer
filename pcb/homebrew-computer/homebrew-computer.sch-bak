EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr User 12598 8268
encoding utf-8
Sheet 1 7
Title "Homebrew Computer"
Date "2020-10-17"
Rev "Rev 1"
Comp "cchaine"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L YC248:YC248 U?
U 1 1 5FBC1998
P 3550 6000
AR Path="/5F97DCB2/5FBC1998" Ref="U?"  Part="1" 
AR Path="/5FBC1998" Ref="U?"  Part="1" 
F 0 "U?" V 2850 5500 50  0000 L CNN
F 1 "YC248" V 2750 5400 50  0000 L CNN
F 2 "" H 3550 6000 50  0001 C CNN
F 3 "" H 3550 6000 50  0001 C CNN
	1    3550 6000
	0    -1   -1   0   
$EndComp
$Comp
L YC248:YC248 U?
U 1 1 5FBC199E
P 3550 4750
AR Path="/5F97DCB2/5FBC199E" Ref="U?"  Part="1" 
AR Path="/5FBC199E" Ref="U?"  Part="1" 
F 0 "U?" V 4400 4350 50  0000 L CNN
F 1 "YC248" V 4300 4200 50  0000 L CNN
F 2 "" H 3550 4750 50  0001 C CNN
F 3 "" H 3550 4750 50  0001 C CNN
	1    3550 4750
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FBC19B4
P 4350 6600
AR Path="/5F97DCB2/5FBC19B4" Ref="#PWR?"  Part="1" 
AR Path="/5FBC19B4" Ref="#PWR0121"  Part="1" 
F 0 "#PWR0121" H 4350 6350 50  0001 C CNN
F 1 "GND" H 4355 6427 50  0000 C CNN
F 2 "" H 4350 6600 50  0001 C CNN
F 3 "" H 4350 6600 50  0001 C CNN
	1    4350 6600
	1    0    0    -1  
$EndComp
Wire Wire Line
	4350 6600 4350 6500
Connection ~ 4350 4350
Wire Wire Line
	4350 4350 4350 4200
Connection ~ 4350 4500
Wire Wire Line
	4350 4500 4350 4350
Connection ~ 4350 4650
Wire Wire Line
	4350 4650 4350 4500
Connection ~ 4350 4800
Wire Wire Line
	4350 4800 4350 4650
Connection ~ 4350 4950
Wire Wire Line
	4350 4950 4350 4800
Connection ~ 4350 5100
Wire Wire Line
	4350 5100 4350 4950
Connection ~ 4350 5250
Wire Wire Line
	4350 5250 4350 5100
Connection ~ 4350 5450
Wire Wire Line
	4350 5450 4350 5250
Connection ~ 4350 5600
Wire Wire Line
	4350 5600 4350 5450
Connection ~ 4350 5750
Wire Wire Line
	4350 5750 4350 5600
Connection ~ 4350 5900
Wire Wire Line
	4350 5900 4350 5750
Connection ~ 4350 6050
Wire Wire Line
	4350 6050 4350 5900
Connection ~ 4350 6200
Wire Wire Line
	4350 6200 4350 6050
Connection ~ 4350 6350
Wire Wire Line
	4350 6350 4350 6200
Connection ~ 4350 6500
Wire Wire Line
	4350 6500 4350 6350
Wire Notes Line
	3400 6950 3400 3750
Text Notes 3400 3750 0    50   ~ 0
Bus termination
Text Notes 3400 7050 0    50   Italic 0
The pull down values should be 10k
Wire Notes Line
	3400 6950 4550 6950
Wire Notes Line
	4550 6950 4550 3750
Wire Notes Line
	4550 3750 3400 3750
$Sheet
S 5200 1300 1200 2050
U 5F8B5CB7
F0 "Arithmetic and Logic Unit" 50
F1 "alu.sch" 50
F2 "TMS" I R 6400 2900 50 
F3 "TCK" I R 6400 3000 50 
F4 "TDO" O R 6400 3100 50 
F5 "TDI" I R 6400 2800 50 
F6 "OP1" I R 6400 1750 50 
F7 "OP2" I R 6400 1850 50 
F8 "OP3" I R 6400 1950 50 
F9 "OP4" I R 6400 2050 50 
F10 "FLAG_ZERO" O R 6400 2450 50 
F11 "FLAG_NEG" O R 6400 2350 50 
F12 "FLAG_CARRY" O R 6400 2550 50 
F13 "FLAG_OVERFLOW" O R 6400 2650 50 
F14 "ALU_OUT_I" I R 6400 2200 50 
F15 "BUS1" T L 5200 1400 50 
F16 "BUS2" T L 5200 1500 50 
F17 "BUS3" T L 5200 1600 50 
F18 "BUS4" T L 5200 1700 50 
F19 "BUS5" T L 5200 1800 50 
F20 "BUS6" T L 5200 1900 50 
F21 "BUS7" T L 5200 2000 50 
F22 "BUS8" T L 5200 2100 50 
F23 "BUS9" T L 5200 2200 50 
F24 "BUS10" T L 5200 2300 50 
F25 "BUS11" T L 5200 2400 50 
F26 "BUS12" T L 5200 2500 50 
F27 "BUS13" T L 5200 2600 50 
F28 "BUS14" T L 5200 2700 50 
F29 "BUS15" T L 5200 2800 50 
F30 "BUS16" T L 5200 2900 50 
F31 "A_IN" I R 6400 1400 50 
F32 "B_IN" I R 6400 1500 50 
F33 "OP_IN" I R 6400 1650 50 
F34 "RESET" I R 6400 3250 50 
$EndSheet
$Sheet
S 7650 3550 1200 1700
U 5F8B5DB4
F0 "IO" 50
F1 "io.sch" 50
F2 "INT_OUT_I" I R 8850 3750 50 
F3 "RST_INT" I R 8850 3850 50 
F4 "INT" O R 8850 3650 50 
F5 "BUS1" T L 7650 3650 50 
F6 "BUS2" T L 7650 3750 50 
F7 "BUS3" T L 7650 3850 50 
F8 "PERIPH_MEM_SPACE" I R 8850 4650 50 
F9 "BUS4" T L 7650 3950 50 
F10 "BUS5" T L 7650 4050 50 
F11 "BUS6" T L 7650 4150 50 
F12 "BUS7" T L 7650 4250 50 
F13 "BUS8" T L 7650 4350 50 
F14 "BUS9" T L 7650 4450 50 
F15 "BUS10" T L 7650 4550 50 
F16 "BUS11" T L 7650 4650 50 
F17 "BUS12" T L 7650 4750 50 
F18 "BUS13" T L 7650 4850 50 
F19 "BUS14" T L 7650 4950 50 
F20 "BUS15" T L 7650 5050 50 
F21 "BUS16" T L 7650 5150 50 
F22 "IO_OUT" I R 8850 4000 50 
F23 "IO_OUTB" I R 8850 4250 50 
F24 "IO_IN" I R 8850 4100 50 
F25 "IO_INB" I R 8850 4350 50 
F26 "IO_ADDR_IN" I R 8850 4500 50 
F27 "RESET" I R 8850 4800 50 
$EndSheet
$Sheet
S 7650 1300 1200 1700
U 5FA796BE
F0 "Program Counter" 50
F1 "program_counter.sch" 50
F2 "TMS" I R 8850 1900 50 
F3 "TDI" I R 8850 2000 50 
F4 "TCK" I R 8850 2100 50 
F5 "BUS1" T L 7650 1400 50 
F6 "BUS2" T L 7650 1500 50 
F7 "BUS3" T L 7650 1600 50 
F8 "BUS4" T L 7650 1700 50 
F9 "BUS5" T L 7650 1800 50 
F10 "BUS6" T L 7650 1900 50 
F11 "BUS7" T L 7650 2000 50 
F12 "BUS8" T L 7650 2100 50 
F13 "BUS9" T L 7650 2200 50 
F14 "BUS10" T L 7650 2300 50 
F15 "BUS11" T L 7650 2400 50 
F16 "BUS12" T L 7650 2500 50 
F17 "BUS13" T L 7650 2600 50 
F18 "BUS14" T L 7650 2700 50 
F19 "BUS15" T L 7650 2800 50 
F20 "BUS16" T L 7650 2900 50 
F21 "PC_COUNT" I R 8850 1400 50 
F22 "RESET" I R 8850 1750 50 
F23 "TDO" O R 8850 2200 50 
F24 "PC_IN" I R 8850 1500 50 
F25 "PC_OUT_I" I R 8850 1600 50 
$EndSheet
$Comp
L Switch:SW_Push SW?
U 1 1 5FAB6A72
P 1450 3900
F 0 "SW?" H 1450 4185 50  0000 C CNN
F 1 "SW_Push" H 1450 4094 50  0000 C CNN
F 2 "" H 1450 4100 50  0001 C CNN
F 3 "~" H 1450 4100 50  0001 C CNN
	1    1450 3900
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5FAB7748
P 1650 4000
F 0 "R?" H 1450 4000 50  0000 L CNN
F 1 "10k" H 1400 3900 50  0000 L CNN
F 2 "" H 1650 4000 50  0001 C CNN
F 3 "~" H 1650 4000 50  0001 C CNN
	1    1650 4000
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR0122
U 1 1 5FAB85CB
P 1250 3900
F 0 "#PWR0122" H 1250 3750 50  0001 C CNN
F 1 "+3.3V" H 1050 3950 50  0000 C CNN
F 2 "" H 1250 3900 50  0001 C CNN
F 3 "" H 1250 3900 50  0001 C CNN
	1    1250 3900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FAB7C98
P 1650 4100
AR Path="/5F97DCB2/5FAB7C98" Ref="#PWR?"  Part="1" 
AR Path="/5FAB7C98" Ref="#PWR0123"  Part="1" 
F 0 "#PWR0123" H 1650 3850 50  0001 C CNN
F 1 "GND" H 1655 3927 50  0000 C CNN
F 2 "" H 1650 4100 50  0001 C CNN
F 3 "" H 1650 4100 50  0001 C CNN
	1    1650 4100
	1    0    0    -1  
$EndComp
Wire Notes Line
	850  4400 850  3500
Text Notes 850  3500 0    50   Italic 0
Reset button and external reset connector
$Sheet
S 5200 3700 1200 1900
U 5F8C07F0
F0 "Registers" 50
F1 "registers.sch" 50
F2 "BUS1" I L 5200 3800 50 
F3 "BUS2" I L 5200 3900 50 
F4 "BUS3" I L 5200 4000 50 
F5 "BUS4" I L 5200 4100 50 
F6 "BUS5" I L 5200 4200 50 
F7 "BUS6" I L 5200 4300 50 
F8 "BUS7" I L 5200 4400 50 
F9 "BUS8" I L 5200 4500 50 
F10 "BUS9" I L 5200 4600 50 
F11 "BUS10" I L 5200 4700 50 
F12 "BUS11" I L 5200 4800 50 
F13 "BUS12" I L 5200 4900 50 
F14 "BUS13" I L 5200 5000 50 
F15 "BUS14" I L 5200 5100 50 
F16 "BUS15" I L 5200 5200 50 
F17 "BUS16" I L 5200 5300 50 
F18 "REG2_OUT_L_I" I R 6400 4250 50 
F19 "REG2_OUT_H_I" I R 6400 4350 50 
F20 "REG3_OUT_L_I" I R 6400 4700 50 
F21 "REG3_OUT_H_I" I R 6400 4800 50 
F22 "SP_OUT_I" I R 6400 5150 50 
F23 "SP_IN" I R 6400 5250 50 
F24 "BP_OUT_I" I R 6400 5400 50 
F25 "BP_IN" I R 6400 5500 50 
F26 "REG3_IN_H" I R 6400 4900 50 
F27 "REG3_IN_L" I R 6400 5000 50 
F28 "REG1_IN_H" I R 6400 4000 50 
F29 "REG1_IN_L" I R 6400 4100 50 
F30 "REG2_IN_H" I R 6400 4450 50 
F31 "REG2_IN_L" I R 6400 4550 50 
F32 "REG1_OUT_L_I" I R 6400 3800 50 
F33 "REG1_OUT_H_I" I R 6400 3900 50 
$EndSheet
$Sheet
S 9800 950  1150 5150
U 5F8B5E3D
F0 "Control Logic" 50
F1 "control_logic.sch" 50
F2 "TMS" I L 9800 2850 50 
F3 "TCK" I L 9800 2950 50 
F4 "TDI" I L 9800 3150 50 
F5 "BUS1" I L 9800 1050 50 
F6 "BUS2" I L 9800 1150 50 
F7 "BUS3" I L 9800 1250 50 
F8 "BUS4" I L 9800 1350 50 
F9 "BUS5" I L 9800 1450 50 
F10 "BUS6" I L 9800 1550 50 
F11 "BUS7" I L 9800 1650 50 
F12 "BUS8" I L 9800 1750 50 
F13 "BUS9" I L 9800 1850 50 
F14 "BUS10" I L 9800 1950 50 
F15 "BUS11" I L 9800 2050 50 
F16 "BUS12" I L 9800 2150 50 
F17 "BUS13" I L 9800 2250 50 
F18 "BUS14" I L 9800 2350 50 
F19 "BUS15" I L 9800 2450 50 
F20 "BUS16" I L 9800 2550 50 
F21 "TDO" O L 9800 3050 50 
F22 "A_IN" O R 10950 1200 50 
F23 "B_IN" O R 10950 1300 50 
F24 "OP_IN" O R 10950 1450 50 
F25 "OP1" O R 10950 1550 50 
F26 "OP2" O R 10950 1650 50 
F27 "OP3" O R 10950 1750 50 
F28 "OP4" O R 10950 1850 50 
F29 "ALU_OUT_I" O R 10950 2000 50 
F30 "FLAG_NEG" I R 10950 2150 50 
F31 "FLAG_ZERO" I R 10950 2250 50 
F32 "FLAG_CARRY" I R 10950 2350 50 
F33 "FLAG_OVERFLOW" I R 10950 2450 50 
F34 "REG1_OUT_L_I" O R 10950 2600 50 
F35 "REG1_OUT_H_I" O R 10950 2700 50 
F36 "REG1_IN_H" O R 10950 2800 50 
F37 "REG1_IN_L" O R 10950 2900 50 
F38 "REG2_OUT_L_I" O R 10950 3050 50 
F39 "REG2_OUT_H_I" O R 10950 3150 50 
F40 "REG2_IN_H" O R 10950 3250 50 
F41 "REG2_IN_L" O R 10950 3350 50 
F42 "REG3_OUT_L_I" O R 10950 3500 50 
F43 "REG3_OUT_H_I" O R 10950 3600 50 
F44 "REG3_IN_H" O R 10950 3700 50 
F45 "REG3_IN_L" O R 10950 3800 50 
F46 "SP_OUT_I" O R 10950 3950 50 
F47 "SP_IN" O R 10950 4050 50 
F48 "BP_OUT_I" O R 10950 4200 50 
F49 "BP_IN" O R 10950 4300 50 
F50 "PC_COUNT" O R 10950 5550 50 
F51 "PC_OUT_I" O R 10950 5650 50 
F52 "PC_IN" O R 10950 5750 50 
F53 "CLK" I R 10950 5900 50 
F54 "CLK_I" I R 10950 6000 50 
F55 "RESET" I R 10950 1050 50 
F56 "INT" I R 10950 4450 50 
F57 "INT_OUT_I" O R 10950 4550 50 
F58 "RST_INT" O R 10950 4650 50 
F59 "IO_OUT" O R 10950 4800 50 
F60 "IO_IN" O R 10950 4900 50 
F61 "IO_OUTB" O R 10950 5050 50 
F62 "IO_INB" O R 10950 5150 50 
F63 "IO_ADDR_IN" O R 10950 5300 50 
F64 "PERIPH_MEM_SPACE" O R 10950 5400 50 
$EndSheet
Wire Wire Line
	11500 6000 10950 6000
Wire Wire Line
	10950 5900 11500 5900
$Sheet
S 11500 5800 550  300 
U 5F97DC64
F0 "Clocks" 50
F1 "clocks.sch" 50
F2 "CLK" O L 11500 5900 50 
F3 "CLK_I" O L 11500 6000 50 
$EndSheet
Text GLabel 10950 1050 2    50   Input ~ 0
RESET
Text GLabel 8850 4800 2    50   Input ~ 0
RESET
Text GLabel 6400 3250 2    50   Input ~ 0
RESET
Text GLabel 8850 1750 2    50   Input ~ 0
RESET
Text GLabel 5200 1400 0    50   3State ~ 0
BUS1
Text GLabel 5200 1500 0    50   3State ~ 0
BUS2
Text GLabel 5200 1600 0    50   3State ~ 0
BUS3
Text GLabel 5200 1700 0    50   3State ~ 0
BUS4
Text GLabel 5200 1800 0    50   3State ~ 0
BUS5
Text GLabel 5200 1900 0    50   3State ~ 0
BUS6
Text GLabel 5200 2000 0    50   3State ~ 0
BUS7
Text GLabel 5200 2100 0    50   3State ~ 0
BUS8
Text GLabel 5200 2200 0    50   3State ~ 0
BUS9
Text GLabel 5200 2300 0    50   3State ~ 0
BUS10
Text GLabel 5200 2400 0    50   3State ~ 0
BUS11
Text GLabel 5200 2500 0    50   3State ~ 0
BUS12
Text GLabel 5200 2600 0    50   3State ~ 0
BUS13
Text GLabel 5200 2700 0    50   3State ~ 0
BUS14
Text GLabel 5200 2800 0    50   3State ~ 0
BUS15
Text GLabel 5200 2900 0    50   3State ~ 0
BUS16
Text GLabel 3850 4200 0    50   3State ~ 0
BUS1
Text GLabel 3850 4350 0    50   3State ~ 0
BUS2
Text GLabel 3850 4500 0    50   3State ~ 0
BUS3
Text GLabel 3850 4650 0    50   3State ~ 0
BUS4
Text GLabel 3850 4800 0    50   3State ~ 0
BUS5
Text GLabel 3850 4950 0    50   3State ~ 0
BUS6
Text GLabel 3850 5100 0    50   3State ~ 0
BUS7
Text GLabel 3850 5250 0    50   3State ~ 0
BUS8
Text GLabel 3850 5450 0    50   3State ~ 0
BUS9
Text GLabel 3850 5600 0    50   3State ~ 0
BUS10
Text GLabel 3850 5750 0    50   3State ~ 0
BUS11
Text GLabel 3850 5900 0    50   3State ~ 0
BUS12
Text GLabel 3850 6050 0    50   3State ~ 0
BUS13
Text GLabel 3850 6200 0    50   3State ~ 0
BUS14
Text GLabel 3850 6350 0    50   3State ~ 0
BUS15
Text GLabel 3850 6500 0    50   3State ~ 0
BUS16
Text GLabel 5200 3800 0    50   3State ~ 0
BUS1
Text GLabel 5200 3900 0    50   3State ~ 0
BUS2
Text GLabel 5200 4000 0    50   3State ~ 0
BUS3
Text GLabel 5200 4100 0    50   3State ~ 0
BUS4
Text GLabel 5200 4200 0    50   3State ~ 0
BUS5
Text GLabel 5200 4300 0    50   3State ~ 0
BUS6
Text GLabel 5200 4400 0    50   3State ~ 0
BUS7
Text GLabel 5200 4500 0    50   3State ~ 0
BUS8
Text GLabel 5200 4600 0    50   3State ~ 0
BUS9
Text GLabel 5200 4700 0    50   3State ~ 0
BUS10
Text GLabel 5200 4800 0    50   3State ~ 0
BUS11
Text GLabel 5200 4900 0    50   3State ~ 0
BUS12
Text GLabel 5200 5000 0    50   3State ~ 0
BUS13
Text GLabel 5200 5100 0    50   3State ~ 0
BUS14
Text GLabel 5200 5200 0    50   3State ~ 0
BUS15
Text GLabel 5200 5300 0    50   3State ~ 0
BUS16
Text GLabel 7650 1400 0    50   3State ~ 0
BUS1
Text GLabel 7650 1500 0    50   3State ~ 0
BUS2
Text GLabel 7650 1600 0    50   3State ~ 0
BUS3
Text GLabel 7650 1700 0    50   3State ~ 0
BUS4
Text GLabel 7650 1800 0    50   3State ~ 0
BUS5
Text GLabel 7650 1900 0    50   3State ~ 0
BUS6
Text GLabel 7650 2000 0    50   3State ~ 0
BUS7
Text GLabel 7650 2100 0    50   3State ~ 0
BUS8
Text GLabel 7650 2200 0    50   3State ~ 0
BUS9
Text GLabel 7650 2300 0    50   3State ~ 0
BUS10
Text GLabel 7650 2400 0    50   3State ~ 0
BUS11
Text GLabel 7650 2500 0    50   3State ~ 0
BUS12
Text GLabel 7650 2600 0    50   3State ~ 0
BUS13
Text GLabel 7650 2700 0    50   3State ~ 0
BUS14
Text GLabel 7650 2800 0    50   3State ~ 0
BUS15
Text GLabel 7650 2900 0    50   3State ~ 0
BUS16
Text GLabel 7650 3650 0    50   3State ~ 0
BUS1
Text GLabel 7650 3750 0    50   3State ~ 0
BUS2
Text GLabel 7650 3850 0    50   3State ~ 0
BUS3
Text GLabel 7650 3950 0    50   3State ~ 0
BUS4
Text GLabel 7650 4050 0    50   3State ~ 0
BUS5
Text GLabel 7650 4150 0    50   3State ~ 0
BUS6
Text GLabel 7650 4250 0    50   3State ~ 0
BUS7
Text GLabel 7650 4350 0    50   3State ~ 0
BUS8
Text GLabel 7650 4450 0    50   3State ~ 0
BUS9
Text GLabel 7650 4550 0    50   3State ~ 0
BUS10
Text GLabel 7650 4650 0    50   3State ~ 0
BUS11
Text GLabel 7650 4750 0    50   3State ~ 0
BUS12
Text GLabel 7650 4850 0    50   3State ~ 0
BUS13
Text GLabel 7650 4950 0    50   3State ~ 0
BUS14
Text GLabel 7650 5050 0    50   3State ~ 0
BUS15
Text GLabel 7650 5150 0    50   3State ~ 0
BUS16
Text GLabel 9800 1050 0    50   3State ~ 0
BUS1
Text GLabel 9800 1150 0    50   3State ~ 0
BUS2
Text GLabel 9800 1250 0    50   3State ~ 0
BUS3
Text GLabel 9800 1350 0    50   3State ~ 0
BUS4
Text GLabel 9800 1450 0    50   3State ~ 0
BUS5
Text GLabel 9800 1550 0    50   3State ~ 0
BUS6
Text GLabel 9800 1650 0    50   3State ~ 0
BUS7
Text GLabel 9800 1750 0    50   3State ~ 0
BUS8
Text GLabel 9800 1850 0    50   3State ~ 0
BUS9
Text GLabel 9800 1950 0    50   3State ~ 0
BUS10
Text GLabel 9800 2050 0    50   3State ~ 0
BUS11
Text GLabel 9800 2150 0    50   3State ~ 0
BUS12
Text GLabel 9800 2250 0    50   3State ~ 0
BUS13
Text GLabel 9800 2350 0    50   3State ~ 0
BUS14
Text GLabel 9800 2450 0    50   3State ~ 0
BUS15
Text GLabel 9800 2550 0    50   3State ~ 0
BUS16
$Comp
L Connector_Generic:Conn_02x03_Counter_Clockwise J?
U 1 1 5FA0F62B
P 1850 5750
F 0 "J?" H 1950 6350 50  0000 C CNN
F 1 "Conn_02x03_Counter_Clockwise" H 2050 6250 50  0000 C CNN
F 2 "" H 1850 5750 50  0001 C CNN
F 3 "~" H 1850 5750 50  0001 C CNN
	1    1850 5750
	1    0    0    -1  
$EndComp
Text GLabel 1250 5650 0    50   Output ~ 0
TDI
Text GLabel 2400 5750 2    50   Output ~ 0
TCK
Text GLabel 1250 5850 0    50   Output ~ 0
TMS
Text GLabel 1250 5750 0    50   Input ~ 0
TDO
$Comp
L power:GND #PWR?
U 1 1 5FA107AD
P 2150 5850
AR Path="/5F97DCB2/5FA107AD" Ref="#PWR?"  Part="1" 
AR Path="/5FA107AD" Ref="#PWR0124"  Part="1" 
F 0 "#PWR0124" H 2150 5600 50  0001 C CNN
F 1 "GND" H 2050 5700 50  0000 C CNN
F 2 "" H 2150 5850 50  0001 C CNN
F 3 "" H 2150 5850 50  0001 C CNN
	1    2150 5850
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5FA10E21
P 1400 5450
F 0 "R?" H 950 5500 50  0000 L CNN
F 1 "10k" H 900 5400 50  0000 L CNN
F 2 "" H 1400 5450 50  0001 C CNN
F 3 "~" H 1400 5450 50  0001 C CNN
	1    1400 5450
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5FA1172B
P 1500 5450
F 0 "R?" H 1100 5500 50  0000 L CNN
F 1 "10k" H 1050 5400 50  0000 L CNN
F 2 "" H 1500 5450 50  0001 C CNN
F 3 "~" H 1500 5450 50  0001 C CNN
	1    1500 5450
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5FA120DD
P 1600 5450
F 0 "R?" H 1250 5500 50  0000 L CNN
F 1 "10k" H 1200 5400 50  0000 L CNN
F 2 "" H 1600 5450 50  0001 C CNN
F 3 "~" H 1600 5450 50  0001 C CNN
	1    1600 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 5850 1600 5850
Wire Wire Line
	1650 5750 1500 5750
Wire Wire Line
	1650 5650 1400 5650
Wire Wire Line
	1600 5550 1600 5850
Connection ~ 1600 5850
Wire Wire Line
	1600 5850 1250 5850
Wire Wire Line
	1500 5550 1500 5750
Wire Wire Line
	1400 5550 1400 5650
Connection ~ 1400 5650
Wire Wire Line
	1400 5650 1250 5650
$Comp
L power:+3.3V #PWR0125
U 1 1 5FA15D80
P 1400 5250
F 0 "#PWR0125" H 1400 5100 50  0001 C CNN
F 1 "+3.3V" H 1200 5300 50  0000 C CNN
F 2 "" H 1400 5250 50  0001 C CNN
F 3 "" H 1400 5250 50  0001 C CNN
	1    1400 5250
	1    0    0    -1  
$EndComp
Wire Wire Line
	1400 5250 1400 5350
Wire Wire Line
	1400 5350 1500 5350
Connection ~ 1400 5350
Connection ~ 1500 5350
Wire Wire Line
	1500 5350 1600 5350
Wire Wire Line
	2150 5750 2300 5750
$Comp
L power:+3.3V #PWR0126
U 1 1 5FA0FF6E
P 2150 5650
F 0 "#PWR0126" H 2150 5500 50  0001 C CNN
F 1 "+3.3V" H 2300 5700 50  0000 C CNN
F 2 "" H 2150 5650 50  0001 C CNN
F 3 "" H 2150 5650 50  0001 C CNN
	1    2150 5650
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5FA17CD2
P 2300 5850
F 0 "R?" H 2400 5850 50  0000 L CNN
F 1 "68" H 2400 5750 50  0000 L CNN
F 2 "" H 2300 5850 50  0001 C CNN
F 3 "~" H 2300 5850 50  0001 C CNN
	1    2300 5850
	1    0    0    -1  
$EndComp
Connection ~ 2300 5750
Wire Wire Line
	2300 5750 2400 5750
$Comp
L Device:C_Small C?
U 1 1 5FA18D2E
P 2300 6050
F 0 "C?" H 2400 6000 50  0000 L CNN
F 1 "100p" H 2400 5900 50  0000 L CNN
F 2 "" H 2300 6050 50  0001 C CNN
F 3 "~" H 2300 6050 50  0001 C CNN
	1    2300 6050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FA19F7E
P 2300 6150
AR Path="/5F97DCB2/5FA19F7E" Ref="#PWR?"  Part="1" 
AR Path="/5FA19F7E" Ref="#PWR0127"  Part="1" 
F 0 "#PWR0127" H 2300 5900 50  0001 C CNN
F 1 "GND" H 2305 5977 50  0000 C CNN
F 2 "" H 2300 6150 50  0001 C CNN
F 3 "" H 2300 6150 50  0001 C CNN
	1    2300 6150
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5FA1A645
P 1400 5750
F 0 "R?" V 1200 5700 50  0000 L CNN
F 1 "22" V 1100 5700 50  0000 L CNN
F 2 "" H 1400 5750 50  0001 C CNN
F 3 "~" H 1400 5750 50  0001 C CNN
	1    1400 5750
	0    -1   -1   0   
$EndComp
Connection ~ 1500 5750
Wire Wire Line
	1250 5750 1300 5750
Wire Notes Line
	850  5050 2700 5050
Wire Notes Line
	2700 7150 850  7150
Text Notes 850  5050 0    50   ~ 0
JTAG connector and termination
Text Notes 850  7450 0    50   Italic 0
TCK termination should be \nas close to the last device as\npossible
Text GLabel 1950 3900 2    50   Output ~ 0
RESET
$Comp
L Connector:Conn_01x02_Male J?
U 1 1 5FA4EADF
P 2850 4050
F 0 "J?" H 3000 3700 50  0000 R CNN
F 1 "Conn_01x02_Male" H 3400 3800 50  0000 R CNN
F 2 "" H 2850 4050 50  0001 C CNN
F 3 "~" H 2850 4050 50  0001 C CNN
	1    2850 4050
	-1   0    0    1   
$EndComp
$Comp
L Device:D_Small D?
U 1 1 5FA516D6
P 1850 3900
F 0 "D?" H 1850 3693 50  0000 C CNN
F 1 "D_Small" H 1850 3784 50  0000 C CNN
F 2 "" V 1850 3900 50  0001 C CNN
F 3 "~" V 1850 3900 50  0001 C CNN
	1    1850 3900
	-1   0    0    1   
$EndComp
Wire Wire Line
	1650 3900 1750 3900
Connection ~ 1650 3900
Text GLabel 2650 3950 0    50   Output ~ 0
RESET
$Comp
L power:GND #PWR?
U 1 1 5FA59ED7
P 2650 4050
AR Path="/5F97DCB2/5FA59ED7" Ref="#PWR?"  Part="1" 
AR Path="/5FA59ED7" Ref="#PWR0128"  Part="1" 
F 0 "#PWR0128" H 2650 3800 50  0001 C CNN
F 1 "GND" H 2655 3877 50  0000 C CNN
F 2 "" H 2650 4050 50  0001 C CNN
F 3 "" H 2650 4050 50  0001 C CNN
	1    2650 4050
	1    0    0    -1  
$EndComp
Wire Notes Line
	3000 3500 3000 4400
Wire Notes Line
	850  3500 3000 3500
Wire Notes Line
	850  4400 3000 4400
Text Notes 850  4700 0    50   Italic 0
The reset logic is pretty simple, \nso the or function is handled with\ndiode logic
Text GLabel 6400 1400 2    50   Input ~ 0
A_IN
Text GLabel 6400 1500 2    50   Input ~ 0
B_IN
Text GLabel 6400 1650 2    50   Input ~ 0
OP_IN
Text GLabel 6400 1750 2    50   Input ~ 0
OP1
Text GLabel 6400 1850 2    50   Input ~ 0
OP2
Text GLabel 6400 1950 2    50   Input ~ 0
OP3
Text GLabel 6400 2050 2    50   Input ~ 0
OP4
Text GLabel 6400 2200 2    50   Input ~ 0
ALU_OUT_I
Text GLabel 6400 2350 2    50   Output ~ 0
FLAG_NEG
Text GLabel 6400 2450 2    50   Output ~ 0
FLAG_ZERO
Text GLabel 6400 2550 2    50   Output ~ 0
FLAG_CARRY
Text GLabel 6400 2650 2    50   Output ~ 0
FLAG_OVERFLOW
Text GLabel 6400 2800 2    50   Input ~ 0
ALU_TDI
Text GLabel 6400 2900 2    50   Input ~ 0
TMS
Text GLabel 6400 3000 2    50   Input ~ 0
TCK
Text GLabel 6400 3100 2    50   Output ~ 0
ALU_TDO
Text GLabel 10950 1200 2    50   Output ~ 0
A_IN
Text GLabel 10950 1300 2    50   Output ~ 0
B_IN
Text GLabel 10950 1450 2    50   Output ~ 0
OP_IN
Text GLabel 10950 1550 2    50   Output ~ 0
OP1
Text GLabel 10950 1650 2    50   Output ~ 0
OP2
Text GLabel 10950 1750 2    50   Output ~ 0
OP3
Text GLabel 10950 1850 2    50   Output ~ 0
OP4
Text GLabel 10950 2000 2    50   Output ~ 0
ALU_OUT_I
Text GLabel 10950 2150 2    50   Input ~ 0
FLAG_NEG
Text GLabel 10950 2250 2    50   Input ~ 0
FLAG_ZERO
Text GLabel 10950 2350 2    50   Input ~ 0
FLAG_CARRY
Text GLabel 10950 2450 2    50   Input ~ 0
FLAG_OVERFLOW
Text GLabel 6400 3800 2    50   Input ~ 0
REG1_OUT_L_I
Text GLabel 6400 3900 2    50   Input ~ 0
REG1_OUT_H_I
Text GLabel 6400 4000 2    50   Input ~ 0
REG1_IN_H
Text GLabel 6400 4100 2    50   Input ~ 0
REG1_IN_L
Text GLabel 6400 4250 2    50   Input ~ 0
REG2_OUT_L_I
Text GLabel 6400 4350 2    50   Input ~ 0
REG2_OUT_H_I
Text GLabel 6400 4450 2    50   Input ~ 0
REG2_IN_H
Text GLabel 6400 4550 2    50   Input ~ 0
REG2_IN_L
Text GLabel 6400 4700 2    50   Input ~ 0
REG3_OUT_L_I
Text GLabel 6400 4800 2    50   Input ~ 0
REG3_OUT_H_I
Text GLabel 6400 4900 2    50   Input ~ 0
REG3_IN_H
Text GLabel 6400 5000 2    50   Input ~ 0
REG3_IN_L
Text GLabel 6400 5150 2    50   Input ~ 0
SP_OUT_I
Text GLabel 6400 5250 2    50   Input ~ 0
SP_IN
Text GLabel 6400 5400 2    50   Input ~ 0
BP_OUT_I
Text GLabel 6400 5500 2    50   Input ~ 0
BP_IN
Text GLabel 10950 2600 2    50   Output ~ 0
REG1_OUT_L_I
Text GLabel 10950 2700 2    50   Output ~ 0
REG1_OUT_H_I
Text GLabel 10950 2800 2    50   Output ~ 0
REG1_IN_H
Text GLabel 10950 2900 2    50   Output ~ 0
REG1_IN_L
Text GLabel 10950 3050 2    50   Output ~ 0
REG2_OUT_L_I
Text GLabel 10950 3150 2    50   Output ~ 0
REG2_OUT_H_I
Text GLabel 10950 3250 2    50   Output ~ 0
REG2_IN_H
Text GLabel 10950 3350 2    50   Output ~ 0
REG2_IN_L
Text GLabel 10950 3500 2    50   Output ~ 0
REG3_OUT_L_I
Text GLabel 10950 3600 2    50   Output ~ 0
REG3_OUT_H_I
Text GLabel 10950 3700 2    50   Output ~ 0
REG3_IN_H
Text GLabel 10950 3800 2    50   Output ~ 0
REG3_IN_L
Text GLabel 10950 3950 2    50   Output ~ 0
SP_OUT_I
Text GLabel 10950 4050 2    50   Output ~ 0
SP_IN
Text GLabel 10950 4200 2    50   Output ~ 0
BP_OUT_I
Text GLabel 10950 4300 2    50   Output ~ 0
BP_IN
Text GLabel 8850 1400 2    50   Input ~ 0
PC_COUNT
Text GLabel 8850 1500 2    50   Input ~ 0
PC_IN
Text GLabel 8850 1600 2    50   Input ~ 0
PC_OUT_I
Text GLabel 10950 5550 2    50   Input ~ 0
PC_COUNT
Text GLabel 10950 5650 2    50   Input ~ 0
PC_IN
Text GLabel 10950 5750 2    50   Input ~ 0
PC_OUT_I
Text GLabel 8850 1900 2    50   Input ~ 0
TMS
Text GLabel 8850 2000 2    50   Input ~ 0
PC_TDI
Text GLabel 8850 2100 2    50   Input ~ 0
TCK
Text GLabel 8850 2200 2    50   Output ~ 0
PC_TDO
Text GLabel 8850 3650 2    50   Output ~ 0
INT
Text GLabel 8850 3750 2    50   Input ~ 0
INT_OUT_I
Text GLabel 8850 3850 2    50   Input ~ 0
RST_INT
Text GLabel 8850 4000 2    50   Input ~ 0
IO_OUT
Text GLabel 8850 4100 2    50   Input ~ 0
IO_IN
Text GLabel 8850 4250 2    50   Input ~ 0
IO_OUTB
Text GLabel 8850 4350 2    50   Input ~ 0
IO_INB
Text GLabel 8850 4500 2    50   Input ~ 0
IO_ADDR_IN
Text GLabel 8850 4650 2    50   Input ~ 0
PERIPH_MEM_SPACE
Text GLabel 10950 4450 2    50   Input ~ 0
INT
Text GLabel 10950 4550 2    50   Output ~ 0
INT_OUT_I
Text GLabel 10950 4650 2    50   Output ~ 0
RST_INT
Text GLabel 10950 4800 2    50   Output ~ 0
IO_OUT
Text GLabel 10950 4900 2    50   Output ~ 0
IO_IN
Text GLabel 10950 5050 2    50   Output ~ 0
IO_OUTB
Text GLabel 10950 5150 2    50   Output ~ 0
IO_INB
Text GLabel 10950 5300 2    50   Output ~ 0
IO_ADDR_IN
Text GLabel 10950 5400 2    50   Output ~ 0
PERIPH_MEM_SPACE
Text GLabel 9800 2850 0    50   Input ~ 0
TMS
Text GLabel 9800 3150 0    50   Input ~ 0
CTRL_TDI
Text GLabel 9800 2950 0    50   Input ~ 0
TCK
Text GLabel 9800 3050 0    50   Output ~ 0
CTRL_TDO
Text GLabel 1800 6600 2    50   Output ~ 0
ALU_TDI
Text GLabel 1800 6600 0    50   Input ~ 0
TDI
Text GLabel 1800 6700 0    50   Input ~ 0
ALU_TDO
Text GLabel 1800 6700 2    50   Output ~ 0
PC_TDI
Text GLabel 1800 6800 0    50   Input ~ 0
PC_TDO
Text GLabel 1800 6800 2    50   Output ~ 0
CTRL_TDI
Text GLabel 1800 6900 0    50   Input ~ 0
CTRL_TDO
Text GLabel 1800 6900 2    50   Output ~ 0
TDO
Wire Notes Line
	1250 6450 2300 6450
Wire Notes Line
	2300 6450 2300 7100
Wire Notes Line
	2300 7100 1250 7100
Wire Notes Line
	1250 7100 1250 6450
Text Notes 1250 6450 0    50   ~ 0
JTAG chain
Wire Notes Line
	850  5050 850  7150
Wire Notes Line
	2700 5050 2700 7150
$EndSCHEMATC
